import{a as _}from"./chunk-LDZPOQZA.js";import{A as U,I as M,Ja as C,Ka as v,La as $,N as x,O as s,Oa as J,Pa as K,Qa as Q,Sa as W,T as f,Ta as D,Ua as E,Va as X,Wa as P,Xa as O,Y as m,Ya as p,Za as S,_ as c,_a as y,ab as k,ca as b,cb as A,da as i,db as F,ea as o,fa as g,hb as N,ib as I,ja as q,la as h,na as B,sa as a,ta as Y,x as l,z as V}from"./chunk-XE4WQH5G.js";function ie(e,r){e&1&&(i(0,"div",5),a(1,"\u05E0\u05D0 \u05DC\u05D4\u05D6\u05D9\u05DF \u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC \u05EA\u05E7\u05D9\u05E0\u05D4"),o())}function re(e,r){e&1&&(i(0,"div",5),a(1,"\u05D4\u05E1\u05D9\u05E1\u05DE\u05D4 \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05DB\u05D9\u05DC \u05DC\u05E4\u05D7\u05D5\u05EA 6 \u05EA\u05D5\u05D5\u05D9\u05DD"),o())}var L=class e{fb=l(N);auth=l(_);router=l(D);loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]});onSubmit(){if(this.loginForm.invalid)return;let{email:r,password:t}=this.loginForm.value;!r||!t||this.auth.login({email:r,password:t}).subscribe({next:n=>{this.router.navigate(["/teams"],{skipLocationChange:!1})},error:n=>{console.error("error:",n),alert("Login failed")}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-login"]],decls:20,vars:4,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","example@email.com"],[1,"error"],["for","password"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","submit",3,"disabled"],["routerLink","/register"]],template:function(t,n){if(t&1&&(i(0,"div",0)(1,"h2"),a(2,"\u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DC\u05DE\u05E2\u05E8\u05DB\u05EA"),o(),i(3,"form",1),h("ngSubmit",function(){return n.onSubmit()}),i(4,"div",2)(5,"label",3),a(6,"\u05D0\u05D9\u05DE\u05D9\u05D9\u05DC:"),o(),g(7,"input",4),m(8,ie,2,0,"div",5),o(),i(9,"div",2)(10,"label",6),a(11,"\u05E1\u05D9\u05E1\u05DE\u05D4:"),o(),g(12,"input",7),m(13,re,2,0,"div",5),o(),i(14,"button",8),a(15,"\u05D4\u05EA\u05D7\u05D1\u05E8"),o()(),i(16,"p"),a(17," \u05E2\u05D3\u05D9\u05D9\u05DF \u05D0\u05D9\u05DF \u05DC\u05DA \u05DE\u05E9\u05EA\u05DE\u05E9? "),i(18,"a",9),a(19,"\u05D4\u05E8\u05E9\u05DD \u05DB\u05D0\u05DF"),o()()()),t&2){let u,d;s(3),b("formGroup",n.loginForm),s(5),c((u=n.loginForm.get("email"))!=null&&u.invalid&&((u=n.loginForm.get("email"))!=null&&u.touched)?8:-1),s(5),c((d=n.loginForm.get("password"))!=null&&d.invalid&&((d=n.loginForm.get("password"))!=null&&d.touched)?13:-1),s(),b("disabled",n.loginForm.invalid)}},dependencies:[C,I,k,O,S,y,F,A,P,E],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#f0f4f8;padding-top:80px;font-family:Segoe UI,system-ui,sans-serif}.login-container[_ngcontent-%COMP%]{max-width:420px;margin:0 auto;padding:40px;background:#fff;border-radius:12px;box-shadow:0 15px 35px #2d9d8e1a;direction:rtl}h2[_ngcontent-%COMP%]{text-align:center;color:#1a202c;margin-bottom:35px;font-size:28px;font-weight:800;letter-spacing:-.5px}.form-group[_ngcontent-%COMP%]{margin-bottom:24px;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px;color:#4a5568;font-size:14px}input[_ngcontent-%COMP%]{padding:14px 18px;border:2px solid #e2e8f0;border-radius:8px;font-size:16px;transition:all .2s cubic-bezier(.4,0,.2,1);background-color:#fff;color:#2d3748}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2d9d8e;background-color:#fff;box-shadow:0 0 0 4px #2d9d8e1a}.error[_ngcontent-%COMP%]{color:#e53e3e;font-size:13px;margin-top:8px;font-weight:600;display:flex;align-items:center;gap:4px}button[_ngcontent-%COMP%]{width:100%;padding:16px;background-color:#2d9d8e;color:#fff;border:none;border-radius:8px;font-size:17px;font-weight:700;cursor:pointer;transition:all .2s ease;margin-top:15px;box-shadow:0 4px 6px #2d9d8e33}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#248277;transform:translateY(-2px);box-shadow:0 7px 14px #2d9d8e40}button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{background-color:#cbd5e0;cursor:not-allowed;box-shadow:none}p[_ngcontent-%COMP%]{text-align:center;margin-top:30px;color:#718096;font-size:15px}a[_ngcontent-%COMP%]{color:#2d9d8e;text-decoration:none;font-weight:800;transition:color .2s}a[_ngcontent-%COMP%]:hover{color:#1a6b61;text-decoration:underline}"]})};function ae(e,r){e&1&&(i(0,"div",5),a(1," \u05E9\u05DD \u05D4\u05D5\u05D0 \u05E9\u05D3\u05D4 \u05D7\u05D5\u05D1\u05D4 "),o())}function ue(e,r){e&1&&(i(0,"div",5),a(1," \u05E0\u05D0 \u05DC\u05D4\u05D6\u05D9\u05DF \u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC \u05EA\u05E7\u05D9\u05E0\u05D4 "),o())}function le(e,r){e&1&&(i(0,"div",5),a(1," \u05D4\u05E1\u05D9\u05E1\u05DE\u05D4 \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05DB\u05D9\u05DC \u05DC\u05E4\u05D7\u05D5\u05EA 6 \u05EA\u05D5\u05D5\u05D9\u05DD "),o())}var R=class e{fb=l(N);auth=l(_);router=l(D);registerForm=this.fb.group({name:["",[p.required]],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]});onSubmit(){if(this.registerForm.invalid)return;let{name:r,email:t,password:n}=this.registerForm.value;!r||!t||!n||this.auth.register({name:r,email:t,password:n}).subscribe({next:u=>{this.router.navigate(["/teams"])},error:u=>{console.error("error:",u),alert("Registration failed. Please try again.")}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-register"]],decls:25,vars:5,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name"],[1,"error"],["for","email"],["id","email","type","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit",3,"disabled"],["routerLink","/login"]],template:function(t,n){if(t&1&&(i(0,"div",0)(1,"h2"),a(2,"\u05D4\u05E8\u05E9\u05DE\u05D4 \u05DC\u05DE\u05E2\u05E8\u05DB\u05EA"),o(),i(3,"form",1),h("ngSubmit",function(){return n.onSubmit()}),i(4,"div",2)(5,"label",3),a(6,"\u05E9\u05DD \u05DE\u05DC\u05D0:"),o(),g(7,"input",4),m(8,ae,2,0,"div",5),o(),i(9,"div",2)(10,"label",6),a(11,"\u05D0\u05D9\u05DE\u05D9\u05D9\u05DC:"),o(),g(12,"input",7),m(13,ue,2,0,"div",5),o(),i(14,"div",2)(15,"label",8),a(16,"\u05E1\u05D9\u05E1\u05DE\u05D4:"),o(),g(17,"input",9),m(18,le,2,0,"div",5),o(),i(19,"button",10),a(20,"\u05D4\u05D9\u05E8\u05E9\u05DD"),o()(),i(21,"p"),a(22," \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD? "),i(23,"a",11),a(24,"\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DB\u05D0\u05DF"),o()()()),t&2){let u,d,w;s(3),b("formGroup",n.registerForm),s(5),c((u=n.registerForm.get("name"))!=null&&u.invalid&&((u=n.registerForm.get("name"))!=null&&u.touched)?8:-1),s(5),c((d=n.registerForm.get("email"))!=null&&d.invalid&&((d=n.registerForm.get("email"))!=null&&d.touched)?13:-1),s(5),c((w=n.registerForm.get("password"))!=null&&w.invalid&&((w=n.registerForm.get("password"))!=null&&w.touched)?18:-1),s(),b("disabled",n.registerForm.invalid)}},dependencies:[C,I,k,O,S,y,F,A,P,E],styles:["[_nghost-%COMP%]{display:block;min-height:calc(100vh - 80px);background-color:#f0f4f8;padding:40px 20px;font-family:Segoe UI,system-ui,sans-serif}.register-container[_ngcontent-%COMP%]{max-width:480px;margin:0 auto;background:#fff;padding:40px;border-radius:12px;box-shadow:0 15px 35px #2d9d8e1a;direction:rtl}h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:35px;color:#1a202c;text-align:center;font-size:30px;font-weight:800;letter-spacing:-.5px}.form-group[_ngcontent-%COMP%]{margin-bottom:24px;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700;color:#4a5568;font-size:14px}input[_ngcontent-%COMP%]{padding:14px 18px;border:2px solid #e2e8f0;border-radius:8px;font-size:16px;transition:all .2s cubic-bezier(.4,0,.2,1);outline:none;background-color:#fff;color:#2d3748}input[_ngcontent-%COMP%]:focus{border-color:#2d9d8e;box-shadow:0 0 0 4px #2d9d8e1a;background-color:#fff}.error[_ngcontent-%COMP%]{color:#e53e3e;font-size:13px;margin-top:8px;font-weight:600}button[_ngcontent-%COMP%]{width:100%;padding:16px;background-color:#2d9d8e;color:#fff;border:none;border-radius:8px;font-size:18px;font-weight:700;cursor:pointer;transition:all .2s ease;margin-top:15px;box-shadow:0 4px 6px #2d9d8e33}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#248277;transform:translateY(-2px);box-shadow:0 7px 14px #2d9d8e40}button[_ngcontent-%COMP%]:disabled{background-color:#cbd5e0;cursor:not-allowed;box-shadow:none}p[_ngcontent-%COMP%]{text-align:center;margin-top:30px;color:#718096;font-size:15px}a[_ngcontent-%COMP%]{color:#2d9d8e;text-decoration:none;font-weight:800;margin-right:5px;transition:color .2s}a[_ngcontent-%COMP%]:hover{color:#1a6b61;text-decoration:underline}"]})};var H=(e,r)=>{let t=l(D),n=l(x);return!v(n)||localStorage.getItem("token")?!0:(t.navigate(["/login"]),!1)};var Z=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:L},{path:"register",component:R},{path:"teams",canActivate:[H],children:[{path:"",loadComponent:()=>import("./chunk-MRDGMONR.js").then(e=>e.TeamsList)},{path:":teamId/projects",loadComponent:()=>import("./chunk-ZCFW5JXD.js").then(e=>e.ProjectsList)}]},{path:"projects/:projectId/tasks",canActivate:[H],loadComponent:()=>import("./chunk-J2PY5AOW.js").then(e=>e.TaskBoard)},{path:"**",redirectTo:"/login"}];var ee=(e,r)=>{let t=l(x);if(!v(t))return r(e);let n=localStorage.getItem("token");if(!n)return r(e);let u=e.clone({setHeaders:{Authorization:`Bearer ${n}`}});return r(u)};var te={providers:[X(Z),J(Q(),K([ee]))]};function se(e,r){if(e&1){let t=q();i(0,"nav",6)(1,"a",7),a(2," \u05D4\u05E6\u05D5\u05D5\u05EA\u05D9\u05DD \u05E9\u05DC\u05D9 "),o()(),i(3,"div",8)(4,"div",9)(5,"span",10),a(6,"account_circle"),o(),i(7,"span",11),a(8),o()(),i(9,"button",12),h("click",function(){V(t);let u=B();return U(u.onLogout())}),i(10,"span",10),a(11,"logout"),o(),i(12,"span",13),a(13,"\u05D9\u05E6\u05D9\u05D0\u05D4"),o()()()}if(e&2){let t=B();s(8),Y(t.userName())}}var T=class e{authService=l(_);router=l(D);platformId=l(x);userName=M("");isLoggingIn=M(!1);ngOnInit(){if(this.authService.isLoggedIn$.subscribe(r=>{if(this.isLoggingIn.set(r),r){let t=localStorage.getItem("userName");this.userName.set(t||"User")}}),v(this.platformId)){let r=this.authService.getToken();this.isLoggingIn.set(!!r);let t=localStorage.getItem("userName");t?this.userName.set(t):this.userName.set("User")}}onLogout(){this.authService.logout(),this.isLoggingIn.set(!1),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-header"]],decls:9,vars:1,consts:[[1,"app-header"],[1,"header-container"],[1,"header-brand"],["routerLink","/teams",1,"brand-link"],[1,"material-symbols-outlined","brand-icon"],[1,"brand-name"],[1,"header-nav"],["routerLink","/teams","routerLinkActive","active",1,"nav-link"],[1,"header-user"],[1,"user-info"],[1,"material-symbols-outlined"],[1,"user-name"],["title","\u05D4\u05EA\u05E0\u05EA\u05E7",1,"btn-logout",3,"click"],[1,"logout-text"]],template:function(t,n){t&1&&(i(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"span",4),a(5,"task_alt"),o(),i(6,"span",5),a(7,"Tasks Manager"),o()()(),m(8,se,14,1),o()()),t&2&&(s(8),c(n.isLoggingIn()?8:-1))},dependencies:[C,E],styles:[".app-header[_ngcontent-%COMP%]{background-color:#2d9d8e;box-shadow:0 4px 12px #0000001a;position:sticky;top:0;z-index:1000;direction:rtl;font-family:Segoe UI,system-ui,sans-serif}.header-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:.8rem 2rem;display:flex;justify-content:space-between;align-items:center}.brand-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;text-decoration:none;color:#fff}.brand-icon[_ngcontent-%COMP%]{font-size:32px!important}.brand-name[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:800;letter-spacing:-.5px}.header-nav[_ngcontent-%COMP%]{margin-right:40px;flex:1}.nav-link[_ngcontent-%COMP%]{color:#ffffffd9;text-decoration:none;padding:8px 16px;font-weight:500;transition:.3s}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff26;border-radius:6px}.header-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#fff;background:#0000001a;padding:6px 15px;border-radius:50px;font-size:.95rem}.btn-logout[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 20px;background-color:#ff8c42;border:none;border-radius:6px;color:#fff;font-weight:700;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #0000001a}.btn-logout[_ngcontent-%COMP%]:hover{background-color:#f07a2e;transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.material-symbols-outlined[_ngcontent-%COMP%]{font-size:22px;vertical-align:middle}@media(max-width:768px){.brand-name[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%], .user-name[_ngcontent-%COMP%], .logout-text[_ngcontent-%COMP%]{display:none}.header-container[_ngcontent-%COMP%]{padding:.5rem 1rem}.header-nav[_ngcontent-%COMP%]{margin:0}}"]})};var z=class e{title=M("client");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,n){t&1&&g(0,"app-header")(1,"router-outlet")},dependencies:[W,T],encapsulation:2})};$(z,te).catch(e=>console.error(e));
